---
layout: post
title: 博客的重新搭建过程记录
date: 2021-07-13
description: 记录了博客的重新搭建过程中出现的全部问题  
categories: Blog  
tags: Blog  
author: NMt
mathjax: true
---

* content
{:toc}

记录了博客的重新搭建翻新过程中出现的全部问题。  

<div style='display: none'>
@@@@
</div>





{% raw %}

距离上次写博客已经过去了很久很久，大约有一年多了吧！这段时间里面发生了很多变化，对我自己的心境影响也很大，最后还是不得已强行改变。虽然过程非常痛苦，而且现在可能心境的本质并没有转变，但至少表面上看起来好多了。为什么要在这里写这些呢，可能是因为没人看吧，就随手写两句。  

因为工作需要这个硬性原因，以及我内心其实还是想有一个属于自己网站的愿望，这样双重的驱动下，我再次捡起了我的博客。  

每个开头总是需要改头换面一次，所以这次我也对我的博客大换血了，完完全全用新的模板重新搭建了一次博客，花费了我许多时间，主要也是因为我没有学过前端，所以才会这么艰难，好在花了几天时间，甚至昨天熬夜到两点半，最终是把之前的博客完完全全转移，格式也重新设置了。  

记录一下这次搭建博客出现的一些问题以及相对应的解决方案。  

## 博客加载速度问题  

原来的博客里面的图片有点多，不光主页还有博客里面用到的图片都承载在Github上了，而Github本身就比较慢，加载几十兆的博客项目还要用浏览器渲染确实挺为难它的，所以这次我博客项目的位置首选就是Gitee。前面的过程就是在Gitee上创建项目，然后开启Pages服务就好了，但是Gitee的Pages服务这几个月因为升级还是检修导致不能用，所以不得已又转移回了Github。  

所以我的想法就变成了先在GitHub上搭建好博客，等Gitee Pages服务能用了再导入到Gitee中。  

在搭建博客的时候用的是一个前端大佬的博客模板，仔细观察了人家的博客项目的结构和组成，发现人家虽然也是在GitHub上搭建的博客，但是很明显他的博客就比我的快很多，最后发现人家的博客项目中没有存放任何的图片，对于这一点我表示很奇怪，总不能全部博客都用网图啊，万一人家图片没了，自己这边就无法显示了。然后我就拿着人家的博客md文件，去打开图片链接，一点一点的对比分析链接，发现人家的图片前缀都一样，直接打开总链接仍旧是一张图，这只能说明人家不是随便去找的网图。我在博客里面找到了博客主人的邮箱（确实有点猥琐），通过邮箱询问才了解到了图床这种东西。  

图床这个概念其实也不是第一次接触到，在一年之前我消失之前的那篇Gitnote软件介绍里面就涉及到了图床这种东西，当时没有太过在意，只是知道这种东西类似于网盘，能存图片。  

经过大佬的指点，我就开始搜罗好用的图床工具（如果有时间的话，我把我搜集到的整理一下发一篇博客），最终选定了路过图床，因为推荐里面说这个服务器在国内，访问上传都很快，并且免费版本没有什么限制。冲着这个优势我就用了，但是很快就出现了很多问题。  

首先是图片链接没有任何规律可言，这有什么坏处呢，在后续博客维护很麻烦，加入几年之后我又想把博客转一次，或者路过图床不出免费版，甚至于路过图床倒闭了，那么我的图片都丢失了，假如说我有备份，但是我没有办法去推断哪个链接对应着哪张图片。  

其次这个网站创建相册很麻烦，一般都是一个文件夹对应着一篇博客的图片，那么在路过图床上一个文件夹就是一个相册。这个问题我还可以接受。  

最后一个问题是有上限，我一开始冲着无限制没上限去的，在我已经上传了一半博客的图片之后我没用这个图床了，可见这种限制对于我来说确实不可忍受。免费版的每小时以及每天上传的图片数量有限制，这个还好，因为一般只有转移博客的时候上传的图片多一些，写博客的时候还好。不过它还限制了图片的数量，免费版只有2000张，我的历史博客一共48篇，总共有500张左右的图片，转移一下我的历史博客就用掉了四分之一，所以我放弃了路过图床。  

最后我选择了Gitee自己做一个图床，解决了博客访问速度的问题。于是就此打消了在Gitee上搭建博客的想法，因为目前的状态挺好的。  
## 博客重搭建步骤  

这个部分挺流畅的，一开始好像不知道从哪个地方下手，但其实梳理一下搭建博客的流程就知道应该从哪个地方开始。  

因为是重搭建，底层需要的Jekyll、Git之类的组件不需要重新安装，甚至于SSH和项目都不需要重新创建。但是在重新用Git去连接我的博客项目的时候出现了无法连接的现象：  

![][pt_01]

经过排错之后发现是SSH密钥出现了问题，在当初建立博客项目的时候会把SSH密钥的公钥上传到GitHub账号中，但是这里不知道为什么没有了，可能是因为长时间没用所以自动清除了吧。不管什么原因没有了，知道问题所在只需要把密钥加上去就可以了：  

![][pt_02]  

再次上传就可以了：  

![][pt_03]  

把本地的文件夹和仓库关联起来后，就可以把博客模板套用起来。  

首先，我将选好的博客模板fork到了自己的仓库中；  

接着，把仓库以压缩包的形式下载到本地；  

把压缩包解压后把里面的文件全部放入之前的本地文件夹，原来的文件就直接删除就好，或者做一次备份（也可以直接在GitHub上把之前的仓库下载到本地）；  

文件替换完成之后把整个项目更新到GitHub中；  

更改里面的博客内容以及各种页面的相关信息即可变成自己的博客。  

![][pt_05]

## Home页面文章摘要显示问题  

正常显示的话应该是：  

![][pt_04]  

但是加完分隔符之后Home页面的博客会显示全部内容。这个问题基本上百度不到，不过看现象是分隔符没有输入正确（分隔符是四个换行符），但是为什么不正确就需要去推敲了。  

和大佬写的md文件对比了很久，一个模块一个模块的排错，最后发现错误在那四个空行上。据我推测应该是因为用的这个编辑器的原因，所以我把空白字符换成了非空白字符，这样就不会出现不同编辑器对空白字符的处理问题（有的可能把多个空行只记录一个\n或者空行用其他的字符表示）。  

这样处理之后同样会出现一个问题，分隔符会显示在文档中，这样不太美观，所以用了一个html语法把分隔符设置为不显示，这样就解决了所有的摘要显示问题。  

##  注释问题  

针对这个问题重新写了一篇文章，请看这个：[Markdown语法中的注释问题][link_01]。

## 搭建图床  

搭建图床教程，请看这篇博客：[Gitee图床搭建教程][link_02]

上面这些问题处理完成之后就没有其他的问题了，正常转移图片路径，更改md文件格式就可以了。  


转载请注明：[南梦婷的博客](https://norah2.github.io) » [点击阅读原文](https://norah2.github.io/2021/07/13/Blog_Rebuild/) 

<!--本文用到的链接-->

[pt_01]: https://nora-blogimg.oss-cn-hangzhou.aliyuncs.com/BlogImage/49_Blog_Rebuild/01.png
[pt_02]: https://nora-blogimg.oss-cn-hangzhou.aliyuncs.com/BlogImage/49_Blog_Rebuild/02.png
[pt_03]: https://nora-blogimg.oss-cn-hangzhou.aliyuncs.com/BlogImage/49_Blog_Rebuild/03.png
[pt_04]: https://nora-blogimg.oss-cn-hangzhou.aliyuncs.com/BlogImage/49_Blog_Rebuild/04.png
[pt_05]: https://nora-blogimg.oss-cn-hangzhou.aliyuncs.com/BlogImage/49_Blog_Rebuild/05.jpg

[link_01]: https://norah2.github.io/2021/07/14/Annotation/
[link_02]: https://norah2.github.io/2021/07/14/ImageBed/

{% endraw %}
